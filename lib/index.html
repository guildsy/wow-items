<html>
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	<script async defer src="https://wow.zamimg.com/widgets/power.js"></script>

	<script>
		window.wowhead_tooltips = {
			colorlinks: true,
			hide: {
				sellprice: true,
				dropchance: true
			}
		};
	</script>

	<style>
		body {
			background-color: #E4E4E4;
		}

		body, div {
			margin: 0;
			overflow: auto;
		}

		.list-col {
			width: 300px;
			height: 100%;
			border-right: 2px solid black;
			float: left;
		}

		.list-item {
			font-size: 20px;
			padding: 10px;
			cursor: pointer;
			border-bottom: 1px solid #D3D3D3;
		}

		.list-item:hover, .list-item.selected {
			background-color: #D3D3D3;
		}

		.item-col {
			padding: 10px;
		}

		.item-col.error {
			background-color: rgba(255, 0, 0, 0.5);
		}

		#icon {
			display: block;
			margin-bottom:  5px
		}

		[name="boss"], [name="sourceId"] {
			display: inline-block !important;
			width: 150px !important;
		}

		select,
		input[type="text"] {
			display: block;
			margin: 10px 0;
			padding: 5px;
			width: 300px;
			border: 1px solid black;
			height: 25px;
		}

		.checkboxes {
			display: inline-block;
			vertical-align: top;
			margin: 5px 20px;
		}

		.checkboxes > label {
			display: block;
			padding: 5px 0;
		}

		[name$="death_knight"] + span {
			color: #C41F3B;
		}

		[name$="demon_hunter"] + span {
			color: #A330C9 !important;
		}

		[name$="druid"] + span {
			color: #FF7D0A;
		}

		[name$="hunter"] + span {
			color: #ABD473;
		}

		[name$="mage"] + span {
			color: #69CCF0;
		}

		[name$="monk"] + span {
			color: #00FF96;
		}

		[name$="paladin"] + span {
			color: #F58CBA;
		}

		[name$="priest"] + span {
			color: #000;
		}

		[name$="rogue"] + span {
			color: #FFF569;
		}

		[name$="shaman"] + span {
			color: #0070DE;
		}

		[name$="warlock"] + span {
			color: #9482C9;
		}

		[name$="warrior"] + span {
			color: #C79C6E;
		}

		.button {
			display: inline-block;
			padding: 10px 15px;
			cursor: pointer;
			background-color: gray;
			text-transform: uppercase;
			color: #FFF;
		}

		.button.fluid {
			width: 100%;
			text-align: center;
			box-sizing: border-box;
		}

		.button.red {
			background-color: red;
		}

		.button.green {
			background-color: green;
		}

		.button.small {
			padding: 5px 5px;
		}

		.mtop20 {
			margin-top: 20px
		}

		#search {
			margin: 0;
			font-size: 20px;
			border: none;
			height: auto;
		}

		#wowhead input {
			display: inline-block;
		}
	</style>
</head>
<body>
	<div class="list-col">
		<input id="search" type="text" placeholder="item name" />
		<div id="new" class="button fluid">new</div>
		<div id="check" class="green button fluid">check</div>
	</div>

	<div class="item-col">
		<img id="icon" />

		<a id="tooltip" href="#" rel="">tooltip</a>

		<div>
			<div id="remove" class="button red mtop20">remove</div>
			<div id="send" class="button green mtop20">send</div>
		</div>

		<form id="wowhead">
			<label>
				Fill via wowhead:
				<div>
					<input name="wowhead" type="text" />
					<button type="submit">Go</button>
				</div>
			</label>
		</form>

		<label>Name: <input name="name" type="text" /></label>
		<label>id: <input name="id" type="text" /></label>
		<label>SourceID:<br/>
			<input name="sourceId" type="text" />
			<select name="boss">
				<option value="">Source</option>
			</select>
		</label>

		<select name="slot">
			<option value="">slot</option>
			<option value="misc">Misc</option>
			<option value="relic">Relic</option>
			<option value="head">Head</option>
			<option value="neck">Neck</option>
			<option value="shoulder">Shoulder</option>
			<option value="back">Back</option>
			<option value="chest">Chest</option>
			<option value="wrist">Wrist</option>
			<option value="hands">Hands</option>
			<option value="waist">Waist</option>
			<option value="legs">Legs</option>
			<option value="feet">Feet</option>
			<option value="finger">Finger</option>
			<option value="trinket">Trinket</option>
			<option value="weapon">Weapon</option>
			<option value="offhand">Offhand</option>
			<option value="whatever_token">Whatever tier token</option>
		</select>

		<div class="buttons">
			<div id="intellect" class="small button">intellect</div>
			<div id="strength" class="small button">strength</div>
			<div id="agility" class="small button">agility</div>

			<br />

			<div id="cloth" class="small button">cloth</div>
			<div id="leather" class="small button">leather</div>
			<div id="mail" class="small button">mail</div>
			<div id="plate" class="small button">plate</div>

			<br />

			<div id="conq" class="small button">conq</div>
			<div id="vanq" class="small button">vanq</div>
			<div id="prot" class="small button">prot</div>

			<br />

			<div id="arcane" class="small button">arcane</div>
			<div id="blood" class="small button">blood</div>
			<div id="fel" class="small button">fel</div>
			<div id="fire" class="small button">fire</div>
			<div id="frost" class="small button">frost</div>
			<div id="holy" class="small button">holy</div>
			<div id="iron" class="small button">iron</div>
			<div id="life" class="small button">life</div>
			<div id="shadow" class="small button">shadow</div>
			<div id="water" class="small button">water</div>
			<div id="storm" class="small button">storm</div>
		</div>

		<div>
			<label class="checkboxes">melee:
				<label><input type="checkbox" name="melee-death_knight" /><span>Death Knight</span></label>
				<label><input type="checkbox" name="melee-paladin" /><span>Paladin</span></label>
				<label><input type="checkbox" name="melee-warrior" /><span>Warrior</span></label>
				<label><input type="checkbox" name="melee-hunter" /><span>Hunter</span></label>
				<label><input type="checkbox" name="melee-shaman" /><span>Shaman</span></label>
				<label><input type="checkbox" name="melee-druid" /><span>Druid</span></label>
				<label><input type="checkbox" name="melee-monk" /><span>Monk</span></label>
				<label><input type="checkbox" name="melee-rogue" /><span>Rogue</span></label>
				<label><input type="checkbox" name="melee-demon_hunter" /><span>Demon Hunter</span></label>
			</label>

			<label class="checkboxes">ranged:
				<label><input type="checkbox" name="ranged-hunter" /><span>Hunter</span></label>
				<label><input type="checkbox" name="ranged-shaman" /><span>Shaman</span></label>
				<label><input type="checkbox" name="ranged-druid" /><span>Druid</span></label>
				<label><input type="checkbox" name="ranged-priest" /><span>Priest</span></label>
				<label><input type="checkbox" name="ranged-mage" /><span>Mage</span></label>
				<label><input type="checkbox" name="ranged-warlock" /><span>Warlock</span></label>
			</label>

			<label class="checkboxes">healers:
				<label><input type="checkbox" name="healers-paladin" /><span>Paladin</span></label>
				<label><input type="checkbox" name="healers-shaman" /><span>Shaman</span></label>
				<label><input type="checkbox" name="healers-druid" /><span>Druid</span></label>
				<label><input type="checkbox" name="healers-monk" /><span>Monk</span></label>
				<label><input type="checkbox" name="healers-priest" /><span>Priest</span></label>
			</label>

			<label class="checkboxes">tanks:
				<label><input type="checkbox" name="tanks-death_knight" /><span>Death Knight</span></label>
				<label><input type="checkbox" name="tanks-paladin" /><span>Paladin</span></label>
				<label><input type="checkbox" name="tanks-warrior" /><span>Warrior</span></label>
				<label><input type="checkbox" name="tanks-druid" /><span>Druid</span></label>
				<label><input type="checkbox" name="tanks-monk" /><span>Monk</span></label>
				<label><input type="checkbox" name="tanks-demon_hunter" /><span>Demon Hunter</span></label>
			</label>
		</div>
	</div>

	<script>
		var HELLFIRE_BOSSES = [
			['Hellfire Citadel Trash', '7545'],
			['Hellfire Assault', '95068'],
			['Iron Reaver', '90284'],
			['Kormrok', '90776'],
			['Kilrogg Deadeye', '90378'],
			['Hellfire High Council', '92146'],
			['Gorefiend', '91809'],
			['Shadow-Lord Iskar', '95067'],
			['Socrethar the Eternal', '90296'],
			['Tyrant Velhari', '93439'],
			['Fel Lord Zakuun', '89890'],
			['Xhul\'horac', '93068'],
			['Mannoroth', '91349'],
			['Archimonde', '91331']
		];

		var EMERALD_NIGHTMARE_BOSSES = [
			['Emerald Nightmare Trash', '8026'],
			['Nythendra', '103160'],
			['Il\'gynoth', '105393'],
			['Elerethe Renferal', '106087'],
			['Ursoc', '100497'],
			['Dragons of Nightmare', '39407'],
			['Cenarius', '113534'],
			['Xavius', '102206']
		];

		var TRIAL_OF_VALOR_BOSSES = [
			['Odyn', '95676'],
			['Guarm', '114344'],
			['Helya', '114537']
		];

		var NIGHTHOLD_BOSSES = [
			['Skorpyron', '102263'],
			['Chronomatic Anomaly', '104415'],
			['Trilliax', '104288'],
			['Spellblade Aluriel ', '107699'],
			['High Botanist Tel\'arn', '104528'],
			['Star Augur Etraeus', '103758'],
			['Tichondrius', '103685'],
			['Krosus', '101002'],
			['Elisande', '110965'],
			['Gul\'dan', '105503']
		];

		var NIGHTHOLD_BOSSES = [
			['Skorpyron', '102263'],
			['Chronomatic Anomaly', '104415'],
			['Trilliax', '104288'],
			['Spellblade Aluriel ', '107699'],
			['High Botanist Tel\'arn', '104528'],
			['Star Augur Etraeus', '103758'],
			['Tichondrius', '103685'],
			['Krosus', '101002'],
			['Elisande', '110965'],
			['Gul\'dan', '105503']
		];

		var TOMB = [
			['Goroth','115844'],
			['Demonic inquisiton','120996'],
			['Harjatan','116407'],
			['Sisters of the Moon','118523'],
			['Mistress Sassz\'ine','115767'],
			['The Desolate Host','118460'],
			['Maiden of Vigilance','118289'],
			['Fallen Avatar','120436'],
			['Kil\'jaeden','117269']
		];

		var ANTORUS = [
			['Varimathras', '125075'],
			['Aggramar', '124691'],
			['Portal Keeper Hasabel', '124393'],
			['Coven of Shivarra', '122468'],
			['Felhounds of Sargeras', '126916'],
			['Garothi Worldbreaker', '123371'],
			['Antoran High Command', '122367'],
			['Kin\'garoth', '125050'],
			['Imonar the Soulhunter', '125055'],
			['Eonar the Life Binder', '125562'],
			['Argus the Unmaker', '124828']
		];

		var ULDIR = [
			['Taloc', '137119'],
			['MOTHER', '140853'],
			['Fetid Devourer', '133298'],
			['Zek\'voz', '134445'],
			['Vectis', '134442'],
			['Zul', '138967'],
			['Mythrax the Unraveler', '136383'],
			['G\'huun', '132998']
		];

		var DAZARALOR = [
			["Champion of the Light", "144683"],
			["Jadefire Masters", "146099"],
			["Grong the Revenant", "144638"],
			["Opulence", "147564"],
			["Conclave of the Chosen", "144747"],
			["King Rastakhan", "145616"],
			["High Tinker Mekkatorque", "144838"],
			["Stormwall Blockade", "146256"],
			["Lady Jaina Proudmoore","149684"]
		];

		var CRUCIBLE_OF_STORMS = [
			["The Restless Cabal", "146497"],
			["Uu'nat", "145371"]
		];

		var ETERNAL_PALACE = [
			["Abyssal Commander Sivara", "155144"],
			["Blackwater Behemoth", "154986"],
			["Radiance of Azshara", "152364"],
			["Lady Ashvane", "153142"],
			["Orgozoa", "152128"],
			["Za'qul", "150859"],
			["The Queen's Court", "152853"],
			["Queen Azshara", "54853"]
		];

		var NYALOTHA = [
			["Wrathion", "156818"],
			["Maut", "156523"],
			["The Prophet Skitra", "161901"],
			["Dark Inquisitor Xanesh", "160229"],
			["The Hivemind", "157253"],
			["Shad'har the Insatiable", "157231"],
			["Drest'agath", "157602"],
			["Il'gynoth", "158328"],
			["Vexiona", "157354"],
			["Ra-den", "156866"],
			["Carapace of N'Zoth", "157439"],
			["N'Zoth the Corruptor", "158041"]
		];

		BOSSES = NYALOTHA;

		ITEMS = {};
		CURRENT_ITEM = null;
		SEARCH = '';
		var IS_PTR = true;
		var $list;
		var $item;
		var EMPTY_ITEM = {
			allowed: {
				melee: [],
				ranged: [],
				healers: [],
				tanks: []
			}
		};

		function getAll(cb) {
			$.getJSON('/items', function(data) {
				ITEMS = data;
				if (cb) cb();
			});
		}

		function renderList() {
			$list.find('.list-item').remove();

			var re = new RegExp(SEARCH, 'i');

			Object.keys(ITEMS).forEach(function(item, i) {
				item = ITEMS[item];

				if (SEARCH && ! item.name.match(re)) return;

				$('<div/>', {
					class: 'list-item',
					text: item.name,
					click: function() {
						$list.find('.list-item').removeClass('selected');
						$(this).addClass('selected');
						renderItem(item);
					}
				}).appendTo($list);
			});
		}

		function renderItem(item) {
			CURRENT_ITEM = item;
			$item.removeClass('error');

			$('#wowhead').find('input').val('');

			$('#icon').prop('src', item.icon);

			$('[name="name"]').val(item.name);
			$('[name="id"]').val(item.id);
			$('[name="sourceId"]').val(item.sourceId);

			// reset incase of blanks
			$('[type="checkbox"]').prop('checked', false);

			$('[name="slot"]').val(item.slot);
			$('[name="boss"]').val(item.sourceId || '');

			Object.keys(item.allowed).forEach(function(role) {
				item.allowed[role].forEach(function(c) {
					$('[name="' + role + '-' + c + '"]').prop('checked', true);
				});
			});
		}

		function onSend() {
			var item = {
				allowed: {
					melee: [],
					ranged: [],
					healers: [],
					tanks: []
				}
			};

			$('[type="checkbox"]').each(function() {
				var s = this.name.split('-');

				if (this.checked) {
					item.allowed[s[0]].push(s[1]);
				}
			});

			item.name = $('[name="name"]').val();
			item.id = $('[name="id"]').val();
			item.sourceId = $('[name="sourceId"]').val();
			item.slot = $('[name="slot"]').val();

			if (CURRENT_ITEM && CURRENT_ITEM.id && item.id !== CURRENT_ITEM.id) {
				item.oldItemID = CURRENT_ITEM.id;
			}

			var a = item.allowed;
			console.log(item);
			if ( ! item.name || ! item.id || ! item.sourceId
				 || ! item.slot ||
				 (! a.melee.length && ! a.ranged.length
				 && ! a.healers.length && ! a.tanks.length)) {
				return $item.addClass('error');
			}

			$.ajax('/item', {
				type: 'POST',
				contentType: 'application/json; chatset=utf-8',
				dataType: 'json',
				data: JSON.stringify(item),
				success: function(data) {
					console.log('saved', item);
					getAll(renderList);

					// hack to stop having to set new boss
					EMPTY_ITEM.sourceId = item.sourceId;
					renderItem(EMPTY_ITEM);
					$('#wowhead').find('input').focus();
				}
			});
		}

		function onRemove() {
			$.ajax('/item/' + CURRENT_ITEM.id, {
				type: 'DELETE',
				success: function() {
					delete ITEMS[CURRENT_ITEM.id];
					renderList();
					renderItem(EMPTY_ITEM);
				}
			});
		}

		function onNew() {
			renderItem(EMPTY_ITEM);
		}

		// go through and check that each items has
		// all the fields filled in
		function onCheck() {
			console.log('starting check');

			Object.keys(ITEMS).forEach(function(item) {
				item = ITEMS[item];
				var a = item.allowed;
				var errors = [];

				if ( ! item.name) errors.push('name');
				if ( ! item.sourceId) errors.push('sourceId');
				if ( ! item.slot) errors.push('slot');
				if ( ! a.melee.length && ! a.ranged.length && ! a.healers.length && ! a.tanks.length) errors.push('allowed');

				if ( ! item.icon) errors.push('icon');

				if (errors.length) {
					console.warn('%s (%s) is missing: %s', item.name, item.id, errors.join(', '));
				}
			});

			console.log('check done');
		}

		function onWowhead(id) {
			if ( ! id) return;

			if (id.indexOf('wowhead.com')) {

				var match = /wowhead.com\/item=(\d+).*/.exec(id);
				if (match) id = match[1];
			}


			$.ajax('/wowhead/' + id, {
				type: 'GET',
				success: function(data) {
					console.log('wowhead', data);

					$('[name="name"]').val(data.name);
					$('[name="id"]').val(id);

					var slot = (data.slot || 'misc').toLowerCase();

					const isWeapon = ['ranged', 'one-hand', 'two-hand'].includes(slot);
					const isOffhand = ['shield', 'held in off-hand'].includes(slot);
					let selectSlot = slot;
					if (isWeapon) selectSlot = 'weapon';
					else if (isOffhand) selectSlot = 'offhand';
					$('[name="slot"]').val(selectSlot);

					// tooltip
					var prefix = IS_PTR ? 'ptr' : 'www';
					var link = `https://${prefix}.wowhead.com/item=` + id;
					var t = $('#tooltip').attr('href', link);
					t.remove();

					setTimeout(function() {
						t.insertBefore('#wowhead');
					}, 500);


					// auto tick armour types
					// function is(a, type) {
					// 	return a.indexOf(type) === 0;
					// }

					var armour = (data.armour || '').toLowerCase();

					if (armour.indexOf('relic') !== -1) {
						$('#' + armour.split(' ')[0]).click();
						$('[name="slot"]').val('relic');
					} else if (slot === 'finger') {
						$('[type="checkbox"]').prop('checked', true);
					} else if (isOffhand || isWeapon || slot === 'trinket') {
						selectSpecs(data.specs);
					} else {
						var types = ['cloth', 'leather', 'mail', 'plate'];

						types.forEach(function(type, i) {
							if (armour == i + 1) {
								$('#' + type).click();
							}
						});
					}

					$('#send').click();
				}
			});
		}

		function selectSpec(spec) {
			console.log(spec);
			switch (spec) {
				case 62:
				case 63:
				case 64:
					$('[name="ranged-mage"]').prop('checked', true);
					break;

				case 65:
					$('[name="healers-paladin"]').prop('checked', true);
					break;

				case 66:
					$('[name="tanks-paladin"]').prop('checked', true);
					break;

				case 70:
					$('[name="melee-paladin"]').prop('checked', true);
					break;

				case 102:
					$('[name="ranged-druid"]').prop('checked', true);
					break;

				case 103:
					$('[name="melee-druid"]').prop('checked', true);
					break;

				case 104:
						$('[name="tanks-druid"]').prop('checked', true);
					break;

				case 105:
					$('[name="healers-druid"]').prop('checked', true);
					break;

				case 71:
				case 72:
					$('[name="melee-warrior"]').prop('checked', true);
					break;

				case 73:
					$('[name="tanks-warrior"]').prop('checked', true);
					break;

				case 250:
					$('[name="tanks-death_knight"]').prop('checked', true);
					break;

				case 251:
				case 252:
						$('[name="melee-death_knight"]').prop('checked', true);
					break;

				case 255:
					$('[name="melee-hunter"]').prop('checked', true);
					break;

				case 256:
				case 257:
					$('[name="healers-priest"]').prop('checked', true);
					break;

				case 258:
					$('[name="ranged-priest"]').prop('checked', true);
					break;

				case 259:
				case 260:
				case 261:
					$('[name="melee-rogue"]').prop('checked', true);
					break;

				case 262:
					$('[name="ranged-shaman"]').prop('checked', true);
					break;

				case 263:
					$('[name="melee-shaman"]').prop('checked', true);
					break;

				case 264:
					$('[name="healers-shaman"]').prop('checked', true);
					break;

				case 265:
				case 266:
				case 267:
					$('[name="ranged-warlock"]').prop('checked', true);
					break;

				case 268:
					$('[name="tanks-monk"]').prop('checked', true);
					break;

				case 269:
					$('[name="melee-monk"]').prop('checked', true);
					break;

				case 270:
					$('[name="healers-monk"]').prop('checked', true);
					break;

				case 253:
				case 254:
					$('[name="ranged-hunter"]').prop('checked', true);
					break;

				case 577:
					$('[name="melee-demon_hunter"]').prop('checked', true);
					break;

				case 581:
					$('[name="tanks-demon_hunter"]').prop('checked', true);
					break;

				default:
					throw new Error(`unknown ${spec}`);



			}
		}

		function selectSpecs(specs) {
			specs.forEach((spec) => selectSpec(spec));
		}

		$(function() {
			$list = $('.list-col');
			$item = $('.item-col');

			$('#send').click(onSend);
			$('#remove').click(onRemove);
			$('#new').click(onNew);
			$('#check').click(onCheck);

			$('#search').on('input', function(e) {
				SEARCH = this.value;
				renderList();
			});

			$('#wowhead').on('submit', function(e) {
				e.preventDefault();
				onWowhead($(this).find('input').val());
			});
			$('#wowhead').on('paste', function(e) {
				onWowhead(e.originalEvent.clipboardData.getData('text'));
			});

			BOSSES.forEach(function(boss) {
				$('[name="boss"]').append($('<option>', {
					value: boss[1],
					text: boss[0]
				}));
			});

			$('[name="boss"]').change(function() {
				$('[name="sourceId"]').val($(this).val());
			});

			$('#intellect').click(function() {
				$('[name="ranged-shaman"]').prop('checked', true);
				$('[name="ranged-druid"]').prop('checked', true);
				$('[name="ranged-priest"]').prop('checked', true);
				$('[name="ranged-mage"]').prop('checked', true);
				$('[name="ranged-warlock"]').prop('checked', true);

				$('[name="healers-paladin"]').prop('checked', true);
				$('[name="healers-shaman"]').prop('checked', true);
				$('[name="healers-druid"]').prop('checked', true);
				$('[name="healers-monk"]').prop('checked', true);
				$('[name="healers-priest"]').prop('checked', true);

			});

			$('#strength').click(function() {
				$('[name="melee-death_knight"]').prop('checked', true);
				$('[name="melee-paladin"]').prop('checked', true);
				$('[name="melee-warrior"]').prop('checked', true);

				$('[name="tanks-death_knight"]').prop('checked', true);
				$('[name="tanks-paladin"]').prop('checked', true);
				$('[name="tanks-warrior"]').prop('checked', true);
			});

			$('#agility').click(function() {
				$('[name="ranged-hunter"]').prop('checked', true);

				$('[name="melee-shaman"]').prop('checked', true);
				$('[name="melee-druid"]').prop('checked', true);
				$('[name="melee-monk"]').prop('checked', true);
				$('[name="melee-hunter"]').prop('checked', true);
				$('[name="melee-rogue"]').prop('checked', true);
				$('[name="melee-demon_hunter"]').prop('checked', true);

				$('[name="tanks-druid"]').prop('checked', true);
				$('[name="tanks-monk"]').prop('checked', true);
				$('[name="tanks-demon_hunter"]').prop('checked', true);
			});

			$('#cloth').click(function() {
				$('[name="ranged-priest"]').prop('checked', true);
				$('[name="ranged-mage"]').prop('checked', true);
				$('[name="ranged-warlock"]').prop('checked', true);

				$('[name="healers-priest"]').prop('checked', true);
			});

			$('#leather').click(function() {
				$('[name="melee-druid"]').prop('checked', true);
				$('[name="melee-monk"]').prop('checked', true);
				$('[name="melee-rogue"]').prop('checked', true);
				$('[name="melee-demon_hunter"]').prop('checked', true);

				$('[name="ranged-druid"]').prop('checked', true);

				$('[name="healers-druid"]').prop('checked', true);
				$('[name="healers-monk"]').prop('checked', true);

				$('[name="tanks-druid"]').prop('checked', true);
				$('[name="tanks-monk"]').prop('checked', true);
				$('[name="tanks-demon_hunter"]').prop('checked', true);
			});

			$('#mail').click(function() {
				$('[name="melee-hunter"]').prop('checked', true);
				$('[name="melee-shaman"]').prop('checked', true);

				$('[name="ranged-hunter"]').prop('checked', true);
				$('[name="ranged-shaman"]').prop('checked', true);

				$('[name="healers-shaman"]').prop('checked', true);
			});

			$('#plate').click(function() {
				$('[name="melee-death_knight"]').prop('checked', true);
				$('[name="melee-paladin"]').prop('checked', true);
				$('[name="melee-warrior"]').prop('checked', true);

				$('[name="healers-paladin"]').prop('checked', true);

				$('[name="tanks-death_knight"]').prop('checked', true);
				$('[name="tanks-paladin"]').prop('checked', true);
				$('[name="tanks-warrior"]').prop('checked', true);
			});

			$('#conq').click(function() {
				$('[name="melee-paladin"]').prop('checked', true);
				$('[name="melee-demon_hunter"]').prop('checked', true);

				$('[name="ranged-priest"]').prop('checked', true);
				$('[name="ranged-warlock"]').prop('checked', true);

				$('[name="healers-paladin"]').prop('checked', true);
				$('[name="healers-priest"]').prop('checked', true);

				$('[name="tanks-paladin"]').prop('checked', true);
				$('[name="tanks-demon_hunter"]').prop('checked', true);
			});

			$('#vanq').click(function() {
				$('[name="melee-death_knight"]').prop('checked', true);
				$('[name="melee-druid"]').prop('checked', true);
				$('[name="melee-rogue"]').prop('checked', true);

				$('[name="ranged-druid"]').prop('checked', true);
				$('[name="ranged-mage"]').prop('checked', true);

				$('[name="healers-druid"]').prop('checked', true);

				$('[name="tanks-death_knight"]').prop('checked', true);
				$('[name="tanks-druid"]').prop('checked', true);
			});

			$('#prot').click(function() {
				$('[name="melee-warrior"]').prop('checked', true);
				$('[name="melee-hunter"]').prop('checked', true);
				$('[name="melee-shaman"]').prop('checked', true);
				$('[name="melee-monk"]').prop('checked', true);

				$('[name="ranged-hunter"]').prop('checked', true);
				$('[name="ranged-shaman"]').prop('checked', true);

				$('[name="healers-shaman"]').prop('checked', true);
				$('[name="healers-monk"]').prop('checked', true);

				$('[name="tanks-warrior"]').prop('checked', true);
				$('[name="tanks-monk"]').prop('checked', true);
			});

			$('#arcane').click(function() {
				$('[name="ranged-mage"]').prop('checked', true);
				$('[name="ranged-druid"]').prop('checked', true);
				$('[name="ranged-hunter"]').prop('checked', true);

				$('[name="tanks-paladin"]').prop('checked', true);
				$('[name="tanks-demon_hunter"]').prop('checked', true);
			});

			$('#blood').click(function() {
				$('[name="melee-rogue"]').prop('checked', true);
				$('[name="melee-druid"]').prop('checked', true);
				$('[name="melee-hunter"]').prop('checked', true);
				$('[name="melee-warrior"]').prop('checked', true);
				$('[name="melee-death_knight"]').prop('checked', true);

				$('[name="ranged-warlock"]').prop('checked', true);
				$('[name="ranged-priest"]').prop('checked', true);
				$('[name="ranged-hunter"]').prop('checked', true);

				$('[name="tanks-death_knight"]').prop('checked', true);
				$('[name="tanks-warrior"]').prop('checked', true);
				$('[name="tanks-druid"]').prop('checked', true);
			});

			$('#fel').click(function() {
				$('[name="tanks-demon_hunter"]').prop('checked', true);

				$('[name="ranged-warlock"]').prop('checked', true);

				$('[name="melee-demon_hunter"]').prop('checked', true);
				$('[name="melee-rogue"]').prop('checked', true);
			});

			$('#fire').click(function() {
				$('[name="melee-death_knight"]').prop('checked', true);
				$('[name="melee-paladin"]').prop('checked', true);
				$('[name="melee-warrior"]').prop('checked', true);
				$('[name="melee-shaman"]').prop('checked', true);

				$('[name="ranged-warlock"]').prop('checked', true);
				$('[name="ranged-mage"]').prop('checked', true);

				$('[name="tanks-druid"]').prop('checked', true);
				$('[name="tanks-warrior"]').prop('checked', true);
			});

			$('#frost').click(function() {
				$('[name="melee-death_knight"]').prop('checked', true);
				$('[name="melee-druid"]').prop('checked', true);

				$('[name="ranged-mage"]').prop('checked', true);
				$('[name="ranged-shaman"]').prop('checked', true);

				$('[name="healers-monk"]').prop('checked', true);
				$('[name="healers-druid"]').prop('checked', true);
				$('[name="healers-shaman"]').prop('checked', true);
			});

			$('#holy').click(function() {
				$('[name="healers-priest"]').prop('checked', true);
				$('[name="healers-paladin"]').prop('checked', true);

				$('[name="tanks-paladin"]').prop('checked', true);

				$('[name="melee-paladin"]').prop('checked', true);
			});

			$('#iron').click(function() {
				$('[name="ranged-hunter"]').prop('checked', true);

				$('[name="tanks-paladin"]').prop('checked', true);
				$('[name="tanks-demon_hunter"]').prop('checked', true);
				$('[name="tanks-monk"]').prop('checked', true);
				$('[name="tanks-warrior"]').prop('checked', true);
				$('[name="tanks-death_knight"]').prop('checked', true);

				$('[name="melee-rogue"]').prop('checked', true);
				$('[name="melee-hunter"]').prop('checked', true);
				$('[name="melee-shaman"]').prop('checked', true);
				$('[name="melee-warrior"]').prop('checked', true);
				$('[name="melee-monk"]').prop('checked', true);

			});

			$('#life').click(function() {
				$('[name="healers-druid"]').prop('checked', true);
				$('[name="healers-monk"]').prop('checked', true);
				$('[name="healers-shaman"]').prop('checked', true);
				$('[name="healers-priest"]').prop('checked', true);
				$('[name="healers-paladin"]').prop('checked', true);

				$('[name="tanks-druid"]').prop('checked', true);
				$('[name="tanks-monk"]').prop('checked', true);

				$('[name="melee-druid"]').prop('checked', true);

				$('[name="ranged-hunter"]').prop('checked', true);
				$('[name="ranged-druid"]').prop('checked', true);
			});

			$('#shadow').click(function() {
				$('[name="melee-death_knight"]').prop('checked', true);
				$('[name="melee-demon_hunter"]').prop('checked', true);
				$('[name="melee-rogue"]').prop('checked', true);
				$('[name="melee-warrior"]').prop('checked', true);

				$('[name="healers-priest"]').prop('checked', true);

				$('[name="ranged-warlock"]').prop('checked', true);
				$('[name="ranged-priest"]').prop('checked', true);

				$('[name="tanks-death_knight"]').prop('checked', true);
			});

			$('#storm').click(function() {
				$('[name="melee-rogue"]').prop('checked', true);
				$('[name="melee-hunter"]').prop('checked', true);
				$('[name="melee-shaman"]').prop('checked', true);
				$('[name="melee-monk"]').prop('checked', true);
				$('[name="melee-warrior"]').prop('checked', true);

				$('[name="ranged-hunter"]').prop('checked', true);
				$('[name="ranged-shaman"]').prop('checked', true);

				$('[name="tanks-monk"]').prop('checked', true);

				$('[name="healers-monk"]').prop('checked', true);
			});

			getAll(renderList);
		});
	</script>
</body>
</html>
